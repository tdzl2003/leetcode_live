A. 简单题，因为操作是可逆的，其实将B塔反过来拼在A后面得到一个串来看待问题；如果这个串没有相邻的相同颜色的地方，那么整体符合条件；如果有一处相邻相同颜色的地方，则从这个地方分开，更上面的部分逆操作到B塔即可。如果有两处相邻相同颜色的地方，那么可以证明无解。

B. 证明题。可以证明，存在解决方法，当且仅当同时存在以k开头的线段和以k结尾的线段（两个线段可以是同一个）。如果存在这样的线段，仅保留这样的线段（一条或两条），都可以使k成为ideal point。如果不存在以k结尾的线段，那么总有 $f(k)=f(k+1)$ 。如果不存在以k开头的线段，那么总有 $f(k)=f(k-1)$ ，因此k均无法成为ideal point

C. 首先等价变换问题，按每个人顺序从当前位置一路吃到最前，此时分两种情况：

* 这个人吃完所有剩余，之后的人再也吃不到这一类型
* 当前的人恰好吃掉 $b_i$ 个，吃完还有剩。

因此考虑处理每个人时，对之前所有不足 $b_i$ 的移除，超过 $b_i$ 的数量统一减去 $b_i$。每个位置最多移除一次，所以移除操作总计不超过 $O(n)$ ，但减去操作的复杂度可能会超时。减去操作总是统一的，所以用一个累加器来代替统一减去，并对应调整所有的比较操作即可。

D. 因为 $w_i>0$ ，所以没有任何理由将一个三角形全部涂成一种颜色（如果这么做了，总是能找到另一种颜色较多的一组，和其交换一个，来提升总得分）。所以每一个三角形都是2+1的颜色组合。从所有的 $n/3$ 个三角形中，选择 $n/6$ 个来让红色更多，另 $n/6$ 个让蓝色更多，这组合数可以用组合求解。

然后来讨论每一组三角形内的组合总数。每一组三角形的组合，必然能得到其中两个权值，而放弃其中一个。为了达到最高权值，放弃的权值必须是三个边权中最低的一个。但权值可能相等，所以最低权值的边可能不止一个，均可以进行选择。

每一组三角形的选择和其它三角形的选择，以及的选择独立，可以应用乘法原理求积即可。

E. 首先和之前比赛的两道打怪题类似，没有任何理由在特殊攻击之后再使用普通攻击，因此关注最小的能量消耗，等价于关注最大的特殊攻击节约的能量值。

考虑最后一击之前的形态，除了主要目标外两侧依次递减，理想情况下依次只递减1 。但是怪物不能超出自己的初始血量，所以遇到初始血量小于预期血量时，只能保留该怪物的初始血量。

上述方法是 $O(N^2)$ 的，下面来看看怎么在更低的复杂度下解决该问题。