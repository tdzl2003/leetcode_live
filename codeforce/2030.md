## D

字符串中为L的可以和左边交换，为R的可以和右边交换，所以显然数字无法穿越LR边界（这两个元素无法交换），其余的都可以穿越。

因此，本题实际上是要求，每次修改之后，每个元素是否需要穿越LR边界。

因为元素数组是固定的，所以我们可以预先根据每个元素的位置，标记好需要被穿越的所有下标（或者说，必须发生交换的相邻元素下标，我们可以永远记录靠左的那一个），我们可以令需要穿越的下标为1，否则为0，记录为数组A。

然后在处理字符串时，我们可以标记好每一组LR边界的位置，LR记录为1，其余的都记录为0，记录为数组B；并且在每次修改时，维护 $\sum A[i]*B[i]$ 的值，显然该值为0时可以将原数组排序到有序。

最后说下如何预处理数组A，考虑 `A[i]` 要从 `i` 下标移动到 `A[i]` 下标，因此这一个区段都可以进行标记；每次标记都是区段操作，所以我们可以采用维护差分数组的方式，记录在哪里+1 在哪里-1，最后生成的数组就可以保证有需要穿越的下标为非0，没有需要的为0 。 之后可以把非0处理成1，或者直接使用非0的数字来计算皆可

另一种方法是考虑一个下标不用被穿越，当且仅当这个下标之前的数字都比当前下标小，因此可以记录之前出现过的最大值，检查是否符合条件来完成标记。
