[题目链接](https://atcoder.jp/contests/abc332/tasks)

## A

简单题。按题意计算并输出即可。

## B

简单题，按题意模拟即可。

想要更低复杂度的计算出此题，需要进行一些计算：

首先需要注意到首先两个瓶子里的水，永远都是 两个瓶子容量的最大公约数的倍数。
然后注意必然存在一个周期，且周期结束时 两个瓶子恰好再次为空。

设 $x = GCD(G, M)$ 。则有 $ G=ax; M=bx $ 且 $a, b, x$ 均为整数。

显然整个周期 $M$ 装满了 $a$ 次而 $G$ 装满了 $b$ 次。

周期中间没有两个瓶子恰好都为空的时候，所以周期中的每次3类操作 或者紧跟一个1类操作， 或者紧跟一个2类操作，除了周期的最后一次1类操作没有跟随3类操作。所以总计一个周期是 $a$ 次2类操作、$b$ 次1类操作、 $a+b-1$ 次3类操作。可以首先将 $K$ 对周期长度取余，结果不变。

然后显然第偶数次操作是3类操作，且第三类操作不改变两个瓶子中水量之和。如果我们知道水量之和：

* 在三类操作之前，要么瓶1满，要么瓶2空。如果水量大于 $M$ ，则瓶1满，剩余水在瓶2。 否则瓶2空，所有水在瓶1.
* 在三类操作之后，要么瓶2满，要么瓶1空。如果水量大于 $G$ ，则瓶2满，剩余水在瓶1。 否则瓶1空，所有水在瓶2。

所以两次操作为一组操作，我们想要求出 $k=\lceil\frac{K}{2}\rceil$ 组操作之后，两个瓶子水量之和。

每组操作对于水量的改变规则如下：

* 如果总水量小于G，则增加M（2类操作）
* 否则总水量减去G（1类操作）

所以剩余水量为 $iM-jG$ 且满足： $i+j=k$ 并且 $0\lt iM-jG \lt G+M$

代入得到 
$$
0\le iM - (k-i)G < G+M \\
0\le i(G+M)-kG \lt G+M \\
kG \le i(G+M) \lt (k+1)G+M \\
i = \lceil\frac{kG}{G+M}\rceil
$$

因此可以求解。算法复杂度主要为GCD的 $O(lg(min(G,M)))$

## C

因为每次0 都重置所有状态，所以只需要求出最大的连续非0区段 需要多少logo T恤、需要多少总计T恤，然后取最大的需求数量即可。

## D

首先暴力可解，复杂度 $5!\times 5! \times 5^2$ 完全在时限范围之内。

想要代码简单点，考虑使用 `std::next_permutation` ，这样直接写个四重循环，而无需递归等。


