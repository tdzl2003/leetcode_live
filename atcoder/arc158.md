# A

分类讨论边界处理题。

首先目标是所有数相等，所以我们可以假设每次操作之后把所有数都减去5，因此+3 +5 +7 变为 -2 +0 +2

其次可以看出现在操作不会改变任何数的奇偶性，所以所有数的奇偶性必须相同。如果不是，直接无解。这是第一个约束条件

再次可以看出现在操作不会改变平均值，要使问题有解，平均值必须是个整数，所以三个数之和必须是3的倍数。这是第二个约束条件。

接下来，将所有数减去三个数的平均数。因为奇偶性相同，这里减掉的数奇偶性也相同，所以减完以后得到三个偶数。并且因为减掉的是平均数，所以减完以后总和必然为0。

可以将三个偶数分别除2，得到的数绝对值之和再除2 就是需要的最少操作次数。

计算过程中注意可能的越界，尽量用long long处理即可。

# B

[Editoral](https://atcoder.jp/contests/arc158/editorial/5953) 有完整的证明，但是直觉上，我们只关心正数和负数中最大和最小的几个数即可。

这里尽量少做假设，把前后各3个数（总计12个数）全部放到一起，遍历找出最大最小值即可。

# C

分两步计算，首先假设不发生任何的进位，求出 $\sum{f(A_i)+f(A_j)}$ 然后考虑每次进位都使得总数减少了9 。

考虑 $A_i$ 的后k位 $a_i$，找到 $a_i+a_j > 10^k$ 即为发生了一次进位。将其所有可能性排序，采用双指针即可顺序找到发生进位的数量。

排序过程因为是一位一位构造的，因此还可以采用基数排序进行进一步优化。